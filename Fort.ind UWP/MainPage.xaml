<Page
    x:Class="Fort.ind_UWP.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Fort.ind_UWP"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="Transparent">

    <Page.Resources>
        <!-- App Background - Windows 10 Settings style acrylic -->
        <AcrylicBrush x:Key="AppAcrylicBrush"
                      BackgroundSource="HostBackdrop"
                      TintColor="#2B2B40"
                      TintOpacity="0.8"
                      TintLuminosityOpacity="0.85"
                      FallbackColor="#2B2B40"/>

        <!-- NavigationView Pane Acrylic - matches Windows 10 Settings sidebar -->
        <AcrylicBrush x:Key="NavigationViewExpandedPaneBackground"
                      BackgroundSource="HostBackdrop"
                      TintColor="#1F1F2E"
                      TintOpacity="0.9"
                      TintLuminosityOpacity="0.8"
                      FallbackColor="#1F1F2E"/>

        <!-- Card Background - more prominent acrylic effect -->
        <AcrylicBrush x:Key="CardAcrylicBrush"
                      BackgroundSource="HostBackdrop"
                      TintColor="#33334D"
                      TintOpacity="0.7"
                      TintLuminosityOpacity="0.85"
                      FallbackColor="#33334D"/>
    </Page.Resources>

    <Grid Background="{StaticResource AppAcrylicBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="32"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Custom Title Bar Area -->
        <Grid x:Name="AppTitleBar" 
              Grid.Row="0" 
              Background="Transparent"
              HorizontalAlignment="Stretch">
            <TextBlock Text="Fort.ind"
                       VerticalAlignment="Center"
                       Margin="12,0,0,0"
                       FontSize="12"
                       Opacity="0.8"/>
        </Grid>

        <!-- Main Content -->
        <NavigationView x:Name="NavView"
                        Grid.Row="1"
                        PaneDisplayMode="LeftCompact"
                        CompactModeThresholdWidth="640"
                        ExpandedModeThresholdWidth="1008"
                        CompactPaneLength="48"
                        OpenPaneLength="200"
                        IsBackButtonVisible="Collapsed"
                        IsSettingsVisible="True"
                        IsPaneToggleButtonVisible="True"
                        IsPaneOpen="False"
                        ItemInvoked="NavView_ItemInvoked"
                        Loaded="NavView_Loaded"
                        Background="Transparent">

            <NavigationView.MenuItems>
                <NavigationViewItem Content="Home" Tag="LatestNews">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="Home"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Games" Tag="Games">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="Play"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Beta Programs" Tag="Betas">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="PreviewLink"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem x:Name="ProfileNavItem" Content="Your Profile" Tag="Profile">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="Contact"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Social" Tag="Social">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="People"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="About" Tag="About">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="Help"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.MenuItems>

            <!-- Content Area -->
            <Grid Background="Transparent">
                <!-- Frame for page navigation -->
                <Frame x:Name="ContentFrame" Visibility="Collapsed"/>
                
                <ScrollViewer x:Name="ContentScrollViewer">
                    <StackPanel x:Name="ContentPanel" Padding="24">
                        <!-- Latest News Content (default view) -->
                        <StackPanel x:Name="LatestNewsPanel" Visibility="Visible">
                            <TextBlock Text="Welcome to Fort.ind"
                                       FontSize="32"
                                       FontWeight="Bold"
                                       Margin="0,0,0,10"/>

                            <TextBlock Text="Check back here for the latest updates and announcements."
                                       FontSize="16"
                                       Opacity="0.7"
                                       Margin="0,0,0,24"/>

                            <!-- News Cards Grid -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="16"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!-- News Card 1 -->
                                <Grid Grid.Column="0" 
                                      Background="{StaticResource CardAcrylicBrush}"
                                      CornerRadius="8"
                                      Padding="20"
                                      MinHeight="180">
                                    <StackPanel>
                                        <TextBlock Text="📰 Welcome!"
                                                   FontSize="14"
                                                   Opacity="0.6"
                                                   Margin="0,0,0,8"/>
                                        <TextBlock Text="welcome to the FIRST actual public beta of this app!"
                                                   FontSize="20"
                                                   FontWeight="SemiBold"
                                                   Margin="0,0,0,12"/>
                                        <TextBlock Text="currently we have finished the base structure of the app :p more on the way"
                                                   TextWrapping="Wrap"
                                                   FontSize="14"
                                                   Opacity="0.8"
                                                   Margin="0,0,0,12"/>
                                        <TextBlock Text="Just now"
                                                   FontSize="12"
                                                   Opacity="0.5"/>
                                    </StackPanel>
                                </Grid>

                                <!-- News Card 2 -->
                                <Grid Grid.Column="2" 
                                      Background="{StaticResource CardAcrylicBrush}"
                                      CornerRadius="8"
                                      Padding="20"
                                      MinHeight="180">
                                    <StackPanel>
                                        <TextBlock Text="🎮 soon! :3"
                                                   FontSize="14"
                                                   Opacity="0.6"
                                                   Margin="0,0,0,8"/>
                                        <TextBlock Text="New Features Ahead"
                                                   FontSize="20"
                                                   FontWeight="SemiBold"
                                                   Margin="0,0,0,12"/>
                                        <TextBlock Text="soon you will be able to manage your fort.ind account, view posts from social and play your games from fort1nd.com on windows! if you want to use the full experience for now go to fort1nd.com"
                                                   TextWrapping="Wrap"
                                                   FontSize="14"
                                                   Opacity="0.8"
                                                   Margin="0,0,0,12"/>
                                        <TextBlock Text="in the future (maybe subject to change)"
                                                   FontSize="12"
                                                   Opacity="0.5"/>
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </StackPanel>

                        <!-- Games Content -->
                        <StackPanel x:Name="GamesPanel" Visibility="Collapsed">
                            <TextBlock Text="Games"
                                       FontSize="32"
                                       FontWeight="Bold"
                                       Margin="0,0,0,10"/>

                            <TextBlock Text="Visit https://www.fort1nd.com to explore our games"
                                       FontSize="18"
                                       TextWrapping="Wrap"/>
                        </StackPanel>

                        <!-- Betas Content -->
                        <StackPanel x:Name="BetasPanel" Visibility="Collapsed">
                            <TextBlock Text="Beta Programs"
                                       FontSize="32"
                                       FontWeight="Bold"
                                       Margin="0,0,0,10"/>

                            <TextBlock Text="Access beta versions and early features (coming soon)"
                                       FontSize="18"
                                       TextWrapping="Wrap"/>
                        </StackPanel>

                        <!-- Profile Content is now handled by ProfilePage via Frame -->

                        <!-- Social Content -->
                        <StackPanel x:Name="SocialPanel" Visibility="Collapsed">
                            <TextBlock Text="Social"
                                       FontSize="32"
                                       FontWeight="Bold"
                                       Margin="0,0,0,10"/>

                            <TextBlock Text="Social features coming soon"
                                       FontSize="18"
                                       TextWrapping="Wrap"/>
                        </StackPanel>

                        <!-- About Content -->
                        <StackPanel x:Name="AboutPanel" Visibility="Collapsed">
                            <TextBlock Text="About Fort.ind Desktop"
                                       FontSize="32"
                                       FontWeight="Bold"
                                       Margin="0,0,0,10"/>

                            <TextBlock Text="Version 0.4 Beta"
                                       FontSize="18"
                                       TextWrapping="Wrap"/>
                        </StackPanel>

                        <!-- Settings Content -->
                        <StackPanel x:Name="SettingsPanel" Visibility="Collapsed">
                            <TextBlock Text="Settings"
                                       FontSize="32"
                                       FontWeight="Bold"
                                       Margin="0,0,0,10"/>

                            <TextBlock Text="Configure your application preferences"
                                       FontSize="18"
                                       TextWrapping="Wrap"
                                       Margin="0,0,0,24"/>

                            <!-- Storage Section -->
                            <TextBlock Text="💾 Data Storage"
                                       FontSize="20"
                                       FontWeight="SemiBold"
                                       Margin="0,0,0,12"/>

                            <Grid Background="{StaticResource CardAcrylicBrush}"
                                  CornerRadius="8"
                                  Padding="16"
                                  Margin="0,0,0,16">
                                <StackPanel Spacing="8">
                                    <TextBlock Text="📄 Local JSON Storage"
                                               FontWeight="SemiBold"/>
                                    <TextBlock Text="Your account data is stored locally on this device."
                                               FontSize="12"
                                               Opacity="0.7"
                                               TextWrapping="Wrap"/>
                                    <TextBlock x:Name="StoragePathText"
                                               FontSize="11"
                                               Opacity="0.5"
                                               TextWrapping="Wrap"/>
                                    <TextBlock x:Name="UserCountText"
                                               FontSize="12"
                                               Opacity="0.7"/>
                                    
                                    <StackPanel Orientation="Horizontal" 
                                                Spacing="4" 
                                                Margin="0,8,0,0"
                                                Opacity="0.6">
                                        <TextBlock Text="🔮" FontSize="12"/>
                                        <TextBlock Text="SQLite database &amp; server sync coming soon!"
                                                   FontSize="11"
                                                   FontStyle="Italic"/>
                                    </StackPanel>
                                </StackPanel>
                            </Grid>

                            <!-- Live Tile Section -->
                            <TextBlock Text="📌 Live Tile"
                                       FontSize="20"
                                       FontWeight="SemiBold"
                                       Margin="0,0,0,12"/>

                            <StackPanel Orientation="Horizontal" Spacing="12" Margin="0,0,0,16">
                                <Button x:Name="RefreshTileButton" 
                                        Content="🔄 Refresh Live Tile" 
                                        Click="RefreshTileButton_Click"/>
                                <Button x:Name="ClearTileButton" 
                                        Content="🗑️ Clear Live Tile" 
                                        Click="ClearTileButton_Click"/>
                            </StackPanel>

                            <!-- Welcome Dialog Section -->
                            <TextBlock Text="👋 Welcome Dialog"
                                       FontSize="20"
                                       FontWeight="SemiBold"
                                       Margin="0,0,0,12"/>

                            <Grid Background="{StaticResource CardAcrylicBrush}"
                                  CornerRadius="8"
                                  Padding="16"
                                  Margin="0,0,0,16">
                                <StackPanel Spacing="8">
                                    <TextBlock Text="The welcome dialog appears the first time you open the app."
                                               FontSize="12"
                                               Opacity="0.7"
                                               TextWrapping="Wrap"/>
                                    <Button x:Name="ResetWelcomeButton"
                                            Content="🔄 Show Welcome Dialog Again"
                                            Click="ResetWelcomeButton_Click"/>
                                </StackPanel>
                            </Grid>

                            <TextBlock Text="ℹ️ About"
                                       FontSize="20"
                                       FontWeight="SemiBold"
                                       Margin="0,0,0,12"/>

                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </Grid>

        </NavigationView>
    </Grid>
</Page>
